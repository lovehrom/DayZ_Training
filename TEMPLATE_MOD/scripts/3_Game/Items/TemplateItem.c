// =================================================================
// TEMPLATE ITEM - Готовый шаблон предмета
// =================================================================
// Инструкция:
// 1. Замените "TemplateItem" на название вашего предмета
// 2. Выберите базовый класс (ItemBase, Edible_Base, Clothing, etc.)
// 3. Переопределите нужные методы
// =================================================================

class TemplateItem extends ItemBase
{
    // =================================================================
    // Инициализация (при создании предмета)
    // =================================================================
    override void OnInit()
    {
        super.OnInit();
        // Ваш код инициализации
        Print("TemplateItem initialized!");
    }

    // =================================================================
    // Потребление (для edible предметов)
    // =================================================================
    override void OnConsume(PlayerBase player)
    {
        super.OnConsume(player);
        // Логика при потреблении предмета

        // Пример: восстановить здоровье
        player.GetHealthManager().AddHealth("", "Health", 10);

        Print("TemplateItem consumed by " + player);
    }

    // =================================================================
    // Обновление (каждый кадр - ОСТОРОЖНО!)
    // =================================================================
    /*
    override void OnUpdate(float delta_time)
    {
        super.OnUpdate(delta_time);

        // ⚠️ ВНИМАНИЕ: Не создавайте объекты здесь каждый кадр!
        // Используйте таймеры:

        m_Timer += delta_time;
        if (m_Timer >= 1.0)  // Каждую секунду
        {
            m_Timer = 0;
            // Выполнить логику
        }
    }
    */

    // =================================================================
    // Присоединение к другому предмету
    // =================================================================
    override void OnAttach(Widget w, EntityAI parent)
    {
        super.OnAttach(w, parent);
        // Логика при присоединении
    }

    // =================================================================
    // Отсоединение от предмета
    // =================================================================
    override void OnDetach(EntityAI parent)
    {
        super.OnDetach(parent);
        // Логика при отсоединении
    }

    // =================================================================
    // Изменение здоровья
    // =================================================================
    override void EEHealthLevelChanged(int oldLevel, int newLevel, string zone)
    {
        super.EEHealthLevelChanged(oldLevel, newLevel, zone);

        if (newLevel == GameConstants.STATE_RUINED)
        {
            // Предмет разрушен
            Print("TemplateItem ruined!");
        }
    }

    // =================================================================
    // Таймер (для примера)
    // =================================================================
    /*
    private float m_Timer = 0;

    void UpdateTimer()
    {
        m_Timer += 1;
        if (m_Timer >= 10)  // 10 секунд
        {
            m_Timer = 0;
            // Выполнить действие
        }
    }
    */
}
